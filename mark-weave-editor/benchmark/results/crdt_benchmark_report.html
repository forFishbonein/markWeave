<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>CRDT/OT Multi-Benchmark Performance Analysis Report</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;margin:0;padding:20px;background:#f5f5f5}
    .container{max-width:1200px;margin:0 auto;background:#fff;padding:30px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,.1)}
    h1{color:#2c3e50;text-align:center;margin-bottom:30px;border-bottom:3px solid #3498db;padding-bottom:10px}
    h2{color:#34495e;margin:30px 0 15px}
    /* ‚¨á‚¨á‚¨á Force summary to one row with 5 cards */
    .summary-grid{
      display:grid;
      grid-template-columns: repeat(5, minmax(200px, 1fr)); /* one line, 5 columns */
      gap:20px;
      margin-bottom:30px;
    }
    .summary-card{background:#ecf0f1;padding:20px;border-radius:8px;border-left:4px solid #3498db}
    .summary-card h3{margin:0 0 10px;color:#2c3e50}
    .summary-card p{margin:0;font-size:24px;font-weight:bold;color:#e74c3c}
    .chart-container{margin:30px 0;padding:20px;background:#f8f9fa;border-radius:8px}
    .benchmark-details{margin:20px 0}
    .benchmark-card{background:#fff;border:1px solid #ddd;border-radius:8px;padding:20px;margin:10px 0;box-shadow:0 2px 4px rgba(0,0,0,.1)}
    .benchmark-card h3{color:#2c3e50;margin-top:0}
    .metrics-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-top:15px}
    .metric{background:#f8f9fa;padding:10px;border-radius:5px;text-align:center}
    .metric-label{font-size:12px;color:#7f8c8d;margin-bottom:5px}
    .metric-value{font-size:18px;font-weight:bold;color:#2c3e50}
    .recommendations{background:#fff3cd;border:1px solid #ffeaa7;border-radius:8px;padding:20px;margin:20px 0}
    .recommendation{margin:10px 0;padding:10px;background:#fff;border-radius:5px;border-left:4px solid #f39c12}
    .priority-high{border-left-color:#e74c3c}.priority-medium{border-left-color:#f39c12}.priority-low{border-left-color:#27ae60}
  </style>
</head>
<body>
  <div class="container">
    <h1>CRDT/OT Multi-Benchmark Performance Analysis Report</h1>

    <div class="summary-grid">
      <div class="summary-card"><h3>Total Benchmarks</h3><p>4</p></div>
      <div class="summary-card"><h3>Average Latency</h3><p>9.55 ms</p></div>
      <div class="summary-card"><h3>Average Bandwidth</h3><p>3.85 KB/s</p></div>
      <div class="summary-card"><h3>Average Operations</h3><p>14.05 ops/s</p></div>
      <div class="summary-card"><h3>Average E2E Latency</h3><p>56.01 ms</p></div>
    </div>

    <h2>Benchmark Performance Comparison</h2>
    <div class="chart-container"><canvas id="latencyChart" width="400" height="200"></canvas></div>
    <div class="chart-container"><canvas id="bandwidthChart" width="400" height="200"></canvas></div>
    <div class="chart-container"><canvas id="operationsChart" width="400" height="200"></canvas></div>
    <div class="chart-container"><canvas id="e2eChart" width="400" height="200"></canvas></div>

    <h2>Detailed Benchmark Results</h2>
    <div class="benchmark-details">
      
      <div class="benchmark-card">
        <h3>Basic Concurrent Input</h3>
        <p><strong>Description:</strong> The most basic concurrent input; tests core CRDT conflict resolution.</p>
        <p><strong>Test Type:</strong> concurrent_input</p>
        <p><strong>Timestamp:</strong> 9/22/2025, 6:15:09 PM</p>
        <div class="metrics-grid">
          <div class="metric"><div class="metric-label">Average Latency</div><div class="metric-value">11.68 ms</div></div>
          <div class="metric"><div class="metric-label">P95 Latency</div><div class="metric-value">30.95 ms</div></div>
          <div class="metric"><div class="metric-label">E2E Avg</div><div class="metric-value">9.41 ms</div></div>
          <div class="metric"><div class="metric-label">E2E P95</div><div class="metric-value">21.30 ms</div></div>
          <div class="metric"><div class="metric-label">Bandwidth</div><div class="metric-value">2.65 KB/s</div></div>
          <div class="metric"><div class="metric-label">Operation Rate</div><div class="metric-value">23.04 ops/s</div></div>
          <div class="metric"><div class="metric-label">Total Operations</div><div class="metric-value">338</div></div>
          <div class="metric"><div class="metric-label">Collaborators</div><div class="metric-value">1</div></div>
        </div>
      </div>
      <div class="benchmark-card">
        <h3>Long Text Collaboration</h3>
        <p><strong>Description:</strong> Continuous long-text input; tests sustained performance and stability.</p>
        <p><strong>Test Type:</strong> long_text_collaboration</p>
        <p><strong>Timestamp:</strong> 9/22/2025, 6:15:55 PM</p>
        <div class="metrics-grid">
          <div class="metric"><div class="metric-label">Average Latency</div><div class="metric-value">8.40 ms</div></div>
          <div class="metric"><div class="metric-label">P95 Latency</div><div class="metric-value">14.32 ms</div></div>
          <div class="metric"><div class="metric-label">E2E Avg</div><div class="metric-value">5.67 ms</div></div>
          <div class="metric"><div class="metric-label">E2E P95</div><div class="metric-value">16.15 ms</div></div>
          <div class="metric"><div class="metric-label">Bandwidth</div><div class="metric-value">5.34 KB/s</div></div>
          <div class="metric"><div class="metric-label">Operation Rate</div><div class="metric-value">9.98 ops/s</div></div>
          <div class="metric"><div class="metric-label">Total Operations</div><div class="metric-value">1074</div></div>
          <div class="metric"><div class="metric-label">Collaborators</div><div class="metric-value">0</div></div>
        </div>
      </div>
      <div class="benchmark-card">
        <h3>Rich-text Formatting Collaboration</h3>
        <p><strong>Description:</strong> Different users insert different text but apply styles to the same span.</p>
        <p><strong>Test Type:</strong> text_format_collaboration</p>
        <p><strong>Timestamp:</strong> 9/22/2025, 6:16:34 PM</p>
        <div class="metrics-grid">
          <div class="metric"><div class="metric-label">Average Latency</div><div class="metric-value">8.98 ms</div></div>
          <div class="metric"><div class="metric-label">P95 Latency</div><div class="metric-value">14.35 ms</div></div>
          <div class="metric"><div class="metric-label">E2E Avg</div><div class="metric-value">48.69 ms</div></div>
          <div class="metric"><div class="metric-label">E2E P95</div><div class="metric-value">79.55 ms</div></div>
          <div class="metric"><div class="metric-label">Bandwidth</div><div class="metric-value">4.12 KB/s</div></div>
          <div class="metric"><div class="metric-label">Operation Rate</div><div class="metric-value">13.03 ops/s</div></div>
          <div class="metric"><div class="metric-label">Total Operations</div><div class="metric-value">2410</div></div>
          <div class="metric"><div class="metric-label">Collaborators</div><div class="metric-value">0</div></div>
        </div>
      </div>
      <div class="benchmark-card">
        <h3>Format Range Overlap</h3>
        <p><strong>Description:</strong> Both users apply bold with overlapping selection ranges.</p>
        <p><strong>Test Type:</strong> format_range_overlap</p>
        <p><strong>Timestamp:</strong> 9/22/2025, 6:17:25 PM</p>
        <div class="metrics-grid">
          <div class="metric"><div class="metric-label">Average Latency</div><div class="metric-value">9.14 ms</div></div>
          <div class="metric"><div class="metric-label">P95 Latency</div><div class="metric-value">14.30 ms</div></div>
          <div class="metric"><div class="metric-label">E2E Avg</div><div class="metric-value">160.26 ms</div></div>
          <div class="metric"><div class="metric-label">E2E P95</div><div class="metric-value">49.30 ms</div></div>
          <div class="metric"><div class="metric-label">Bandwidth</div><div class="metric-value">3.30 KB/s</div></div>
          <div class="metric"><div class="metric-label">Operation Rate</div><div class="metric-value">10.16 ops/s</div></div>
          <div class="metric"><div class="metric-label">Total Operations</div><div class="metric-value">2920</div></div>
          <div class="metric"><div class="metric-label">Collaborators</div><div class="metric-value">0</div></div>
        </div>
      </div>
    </div>

    <h2>Recommendations</h2>
    <div class="recommendations">
      <p>All benchmarks look good. No special recommendations.</p>
    </div>

    <h2>Best/Worst Performance</h2>
    <div class="benchmark-details">
      <div class="benchmark-card">
        <h3>üèÜ Best Performance: Long Text Collaboration</h3>
        <p>Average Latency: 8.40 ms</p>
      </div>
      <div class="benchmark-card">
        <h3>‚ö†Ô∏è Worst Performance: Basic Concurrent Input</h3>
        <p>Average Latency: 11.68 ms</p>
      </div>
    </div>
  </div>

  <script>
    const labels = ["Basic Concurrent Input","Long Text Collaboration","Rich-text Formatting Collaboration","Format Range Overlap"];

    // Latency chart
    new Chart(document.getElementById('latencyChart'), {
      type: 'bar',
      data: {
        labels,
        datasets: [
          { label: 'Average Latency (ms)', data: [11.67679023548586,8.40404075299955,8.976320713499412,9.139993746778995], backgroundColor: 'rgba(54,162,235,0.5)', borderColor: 'rgba(54,162,235,1)', borderWidth: 1 },
          { label: 'P95 Latency (ms)', data: [30.949999928474426,14.32291415612004,14.34945316953371,14.302668672627725], backgroundColor: 'rgba(255,99,132,0.5)', borderColor: 'rgba(255,99,132,1)', borderWidth: 1 }
        ]
      },
      options: { responsive: true, plugins: { title: { display: true, text: 'Latency Comparison' } }, scales: { y: { beginAtZero: true, title: { display: true, text: 'Latency (ms)' } } } }
    });

    // Bandwidth chart
    new Chart(document.getElementById('bandwidthChart'), {
      type: 'bar',
      data: {
        labels,
        datasets: [
          { label: 'Bandwidth (KB/s)', data: [2.652244481496761,5.338083839984998,4.12298996892652,3.299976543506768], backgroundColor: 'rgba(75,192,192,0.5)', borderColor: 'rgba(75,192,192,1)', borderWidth: 1 }
        ]
      },
      options: { responsive: true, plugins: { title: { display: true, text: 'Bandwidth Usage Comparison' } }, scales: { y: { beginAtZero: true, title: { display: true, text: 'Bandwidth (KB/s)' } } } }
    });

    // Operations chart
    new Chart(document.getElementById('operationsChart'), {
      type: 'bar',
      data: {
        labels,
        datasets: [
          { label: 'Operation Rate (ops/s)', data: [23.035742928612713,9.982373785883684,13.028896428577841,10.164220856675723], backgroundColor: 'rgba(255,205,86,0.5)', borderColor: 'rgba(255,205,86,1)', borderWidth: 1 }
        ]
      },
      options: { responsive: true, plugins: { title: { display: true, text: 'Operation Rate Comparison' } }, scales: { y: { beginAtZero: true, title: { display: true, text: 'Operation Rate (ops/s)' } } } }
    });

    // E2E chart
    new Chart(document.getElementById('e2eChart'), {
      type: 'bar',
      data: {
        labels,
        datasets: [
          { label: 'E2E Avg (ms)', data: [9.413280842920614,5.6700000011920935,48.69000000238418,160.26475000113248], backgroundColor: 'rgba(153,102,255,0.5)', borderColor: 'rgba(153,102,255,1)', borderWidth: 1 },
          { label: 'E2E P95 (ms)', data: [21.300000071525574,16.149999976158142,79.55000001192093,49.30000001192093], backgroundColor: 'rgba(201,203,207,0.5)', borderColor: 'rgba(201,203,207,1)', borderWidth: 1 }
        ]
      },
      options: { responsive: true, plugins: { title: { display: true, text: 'E2E Latency Comparison' } }, scales: { y: { beginAtZero: true, title: { display: true, text: 'Latency (ms)' } } } }
    });
  </script>
</body>
</html>